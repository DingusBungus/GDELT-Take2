<section ng-controller="QueriesController" ng-init="find(); findActors()">
  <div class="page-header">
    <h1>New Query</h1>
  </div>
  <div class="col-md-12">
    <form name="queryForm" class="form-horizontal" ng-submit="create(queryForm.$valid)" novalidate>
      <fieldset>
        <div class="row">
          <div class="col-md-10">
            <input readonly name="country_actor1" type="text" ng-model="queryArgs.country_actor1.name" id="country_actor1" class="form-control actor1" placeholder="Actor 1" required>
            <div ng-messages="queryForm.title.$error" role="alert">
              <p class="help-block error-text" ng-message="required">At least 1 Country Actor is required!</p>
            </div>
          </div>
          <div class="col-md-2">
            <button style="margin-left: -30px;" type="button" class="btn btn-secondary" data-toggle="modal" data-target="#myModal">
              <span class="glyphicon glyphicon-plus"></span>
            </button>
          </div>
        </div>

        <div id="myModal" class="modal fade" role="dialog">
          <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Select Actor</h4>
              </div>
              <div class="modal-body">
                <div class="table-scrolling">
                  <table ng-show="true" class="table table-striped table-hover">
                    <tr style="cursor: pointer;" ng-repeat="actor in actors | filter: { type: 'country' }" ng-click="confirmActor(actors.indexOf(actor));">
                      <td>{{actor.name}}</td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class="modal-footer">
                <span>Your Ingredient Is: {{queryArgs.country_actor1.name}}</span>
                <button type="button" class="btn btn-default" data-dismiss="modal">Okay!</button>
              </div>
            </div>
          </div>
        </div>

        <br>
        <div class="row">
          <div class="col-md-10">
            <input readonly name="actor2" type="text" ng-model="actor2" id="actor2" class="form-control actor2" placeholder="Actor 2" required>
          </div>
          <div class="col-md-2">
            <button style="margin-left: -30px;" type="button" class="btn btn-secondary" data-toggle="modal" data-target="#myModal">
              <span class="glyphicon glyphicon-plus"></span>
            </button>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-10">
            <input readonly name="event" ng-model="event" id="event" class="form-control event" placeholder="Event">
          </div>
          <div class="col-md-2">
            <button style="margin-left: -30px;" type="button" class="btn btn-secondary" data-toggle="modal" data-target="#myModal" ng-click="findEvents();" >
              <span class="glyphicon glyphicon-plus"></span>
            </button>
          </div>
        </div>
        <br>
      <div class="form-group col-md-3">
        <input type="submit" class="btn btn-primary btn-lg">
      </div>
      <div ng-show="error" class="text-danger">
        <strong ng-bind="error"></strong>
      </div>
    </form>
  </div>
</section>

